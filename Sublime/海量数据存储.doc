

海量数据存储技术结课论文



移动应用程序数据同步
的可靠性，一致性和高效性






　　　　　　　　　　　　　院（系）名 称：计算机学院
　　　　　　　　　　　　　专 业 名 称  ：计算机技术
　　　　　　　　　　　　　学 生 姓 名  ：何健
　　　　　　　　　　　　　学 生 学 号  ：2017282110267
　　　　　　　　　　　　　指 导 教 师  ：何水兵    教授
　　　　　　　　　　　　　　  

   二○一七年十二月







摘  要

     移动应用程序需要管理数据，通常是跨设备，为用户提供各种功能，如无缝访问，协作和离线编辑。要做到这一点，一个应用程序必须预测和处理大量的本地和网络故障，同时保持数据的一致性。对于移动环境，蜂窝频宽和设备电池的节约使用也是必不可少的。上述要求给应用程序开发人员带来了巨大的负担。我们构建了一个数据同步服务Simba，为移动应用程序开发人员提供高级本地编程抽象，统一表格和对象数据（这是移动应用程序的通用需求），并以可靠，一致和透明的方式透明地处理数据存储和同步。高效的方式。在本文中，我们将详细介绍Simba的客户端软件，它作为数据同步基础设施的网关。我们的评估显示，Simba在快速开发功能强大的移动应用程序方面的效果与所有使用Dropbox开发的应用程序在所有故障情况下保持一致。 Simbaapps对于蜂窝资源也是非常节俭的。

关键词：关键词1；关键词2；关键词3
（黑体小4）         （宋体小4）





















ABSTRACT 
　　
　　　Mobile apps need to manage data, often across devices, to provide users with a variety of features such as seamless access, collaboration, and offline editing. To do so reliably, an app must anticipate and handle a host of local and network failures while preserving data consistency. For mobile environments, frugal usage of cellular bandwidth and device battery are also essential. The above requirements place an enormous burden on the app developer. We built Simba, a data-sync service that provides mobile app developers with a high-level local-programming abstraction unifying tabular and object data C a need common to mobile apps C and transparently handles data storage and sync in a reliable, consistent, and efficient manner. In this paper we present a detailed description of Simba’s client software which acts as the gateway to the data sync infrastructure. Our evaluation shows Simba’s effectiveness in rapid development of robust mobile apps that are consistent under all failure scenarios, unlike apps developed with Dropbox. Simbaapps are also demonstrably frugal with cellular resources.
　　　
　　　Key words: motion control； autopilot； neural ；GIS




















目□□录（黑体小2）
1□绪论

1.1□ 研究背景 ………………………………………………………………………1
1.2□ 图像处理领域的研究现状………………………………………………1
1.3□ 本课题的研究内容 ………………………………………………………2
1.3.1  Altera MegaCore管理和使用…………………………………5 
(各章的名称黑体4号，其余宋体小4) 
……
……
……
3□关于海量图像无级缩放
3.1□概述…………………………………………………………………………    35
3.2□无级缩放算法原理…………………………………………………………  37
3.3□无级缩放算法的PC模拟…………………………………………………   39
……
……
3.5□本章小节………………………………………………………………………  45
……
结论 ……………………………………………………………………………………  57
参考文献 ……………………………………………………………………………… 59
致谢 ……………………………………………………………………………………… 62
附录 ……………………………………………………………………………………… 72

1  引言

个人智能设备已成为无处不在和用户现在可以享受各种各样的应用程序或应用程序
简而言之，在他们身上运行。许多这样的应用程序是数据中心的[2]经常依靠基于云的资源来存储，分享和分析数据。除了用户界面和各种功能，这样的应用程序的开发人员需要构建底层的数据管理基础架构。例如，为了提供高质量的笔记Evernote等应用程序，开发人员必须构建一个支持丰富多媒体的数据管理平台笔记，关于数据和元数据的查询，协作和离线操作，同时确保可靠性和一致性面对失败。而且，一个移动应用开发者同时还需要满足上述要求有效利用移动设备上的有限资源如蜂窝带宽和电池电量。该更好地开发人员处理上述问题该应用将吸引和留住用户的可能性就越大。随着数量和品种的快速增长在市场上的应用程序，有一个随之而来的需求者的初始化时序进行讨论。从高层抽象的从业者隐藏的复杂性和简化应用程序开发人员的各种任务在管理数据[6,34,52]。数据同步服务已经成为开发者的一个辅助手段其中应用可以卸载其一些数据管理到第三方服务，如Dropbox，iCloud，或Google云端硬盘。而起初这样的服务迎合想要跨多个文件访问文件的最终用户设备，最近这种服务提供了SDKs应用程序通过CRUD直接使用（创建，读取，更新，
删除）操作[15]。同步服务建立在数十年对分布式和移动数据同步的研究 - 从断线操作的基础性工作[30]，弱连接的复制存储[37,55]和版本管理[42]，到更广泛的领域进行更新的工作数据库复制[58]，协作编辑[46]和缓存移动设备[57]。数据同步的原理和机制很好理解，在这里我们不寻求重塑他们，但数据同步服务需要实现双重目的是为了对移动应用程序有价值。第一，它必须透明地处理可靠性，一致性，
和效率，很少涉及应用程序开发者，这是具有挑战性的作为Dropbox的制造商也注意到，在外面提供简单的用户可能需要巨大的复杂性和努力[24]。其次，数据同步服务必须提供一个对大多数人有利的数据模型应用;虽然文件同步是很普遍的，但实际上很多应用程序在相互依存的结构化和非结构化的基础上运行数据[11]。一个包含表的高级数据模型而且文件对于应用程序开发人员和透明度来说是非常有用的
必须适用于这个数据模型。数据同步服务必须保存，代表应用程序，结构化和非结构化之间的一致性数据在存在故障时被存储和共享。考虑一下照片共享应用程序的例子Picasa和Instagram;通常这样的应用程序将存储表中的专辑信息和实际的图像文件系统或对象存储。在这种情况下，同步服务需要确保永远不会有悬摆指针从专辑到图像。由于移动应用可能会崩溃或由于各种原因频繁停顿[10,50]应用程序是在数据操作的中间（本地写或同步）发生故障时，同步服务需要重新启动，检测并恢复到一致的状态。最近的工作已经表明，几个数据同步服务也传播了腐败
数据与桌面文件系统一起使用[61,62]。虽然服务已经存在文件[4,27,56]和表
[15,29,43]资料，都不符合上述标准。更好地了解移动应用程序和同步服务的方式
保持数据一致性的失败，我们进行针对Android的流行移动应用程序的研究包括
那些使用Dropbox，Parse和Kinvey的数据同步。我们的研究表明，应用程序管理数据不佳数据丢失，腐败和不一致的行为。因此，我们建立了Simba来管理移动应用程序的数据，它提供了统一文件和高级抽象表。这些表可能包含两个基本类型的列（字符串，整数等）和任意大小的对象，全部通过类似于CRUD的界面访问。为了方便采用，接口保持类似的那些已经熟悉iOS和Android开发人员。应用可以构建
跨越表和对象的数据模型Simba确保所有数据的可靠性，一致性和ef-与服务器和其他移动设备非常同步。Simba由用于开发移动应用程序的SDK组成，
用于移动设备的Simba客户端应用程序（sClient），以及Simba云服务器（sCloud）;所有与Simba SDK，Simba-apps只与本地通信作为所有交互代理的sClient实例与sCloud。在本文中，我们关注透明度它影响Simbaapps的高级抽象因此主要讨论sClient;整个辛巴服务在其他地方有更详细的介绍[45]。通过案例研究，我们展示了辛巴如何启用我们很快就开发了几款移动应用程序增加开发的便利性和功能。 SimbaappssClient的失败透明度大大受益;使用Dropbox编写的应用程序无法保持原子性导致破坏更新的整个数据对象在失败的情况下同步不一致的数据。受益Simba能够以编程方式整合延迟容忍数据传输，Simba-apps也展出减少网络足迹和给设备增加的机会关闭蜂窝无线电。

2移动应用可靠性研究

我们研究了一些流行的移动应用的可靠性和同步服务（在Android上）系统地介绍故障 - 网络中断，本地应用程序崩溃和设备功率损失 - 并观察恢复结果，如果有的话。我们研究中的应用程序使用表和文件/对象，并依靠各种现有的服务，即Dropbox，Parse和Kinvey进行数据同步。我们设置了两个Android具有相同应用和初始状态的设备。模拟一个网络中断，我们启动了飞行模式和崩溃（1）手动杀死应用程序，（2）拉电池出;两次碰撞测试的结果没有差异我们列出一次，如表1所示。对于网络中断测试，一些应用程序（例如Hiyu，Tumblr）导致数据丢失，如果同步失败没有重新连接后立即处理。如果应用程序（或该通知）已经关闭，没有发生恢复重新开始。有些应用程序（UPM，TomDroid，Keepass2）没有甚至通知用户同步失败。大多数应用程序都需要用户手动重新同步失败后，这个疏忽导致数据永久挂起同步。一些应用程序表现出其他形式的不一致。对于TomDroid，如果第二个设备联系了它的服务器甚至在同步中没有更改，删除操作阻止indefi-奈特雷。对于Evernote，创建中断后手动重新同步一遍又一遍的同一个音符的多个副本。对于崩溃测试，只有桌面的应用程序才能正确恢复因为他们完全依赖于SQLite的崩溃一致性。但是，带有对象的应用程序显示出问题包括腐败和不一致的行为。对于YouTube，即使对象（视频）已成功上传，该应用程序本身丢失了帖子。 Instagram和Keepass2都创建了一个局部的部分对象; Keepass2另外未能恢复导致a的表数据悬挂指向对象的指针。 Dropbox创建了一个冲突文件与部分对象（局部腐败）和传播像Evernote一样腐败到第二个设备。我们的研究表明，移动应用程序仍然失败或腐败数据尽管有大量的先前的研究，分析工具和数据同步服务。首先，处理对象是特别的大多数应用程序都有问题 - 我们的研究中没有应用程序能够在对象更新期间正确地从崩溃中恢复。其次，不是确保正确的恢复，而是一些应用程序完全禁用对象更新的更简单的路线。第三，在几种情况下，应用程序无法通知用户导致进一步腐败的错误。进一步的研究激励我们透明地采取全面的方法处理数据同步服务中的故障，并提供一个有用的高级抽象到应用程序。

























3与Simba的应用开发

3.1数据模型和API
数据模型：Simba的数据模型是这样设计的应用程序可以将其所有数据存储在一个统一的存储中而不必担心如何存储和同步。该高级抽象，使应用程序有一个数据模型生成表和对象称为辛巴表（简称sTable）。 支持这个统一的数据视图辛巴，管理层，确保应用程序永远查看本地存储的数据的一致视图云和其他移动设备。Simba中客户端 - 服务器一致性的单位是个人一张sTable（简称sRow）组成表格数据及其中涉及的所有对象; 对象不是通过sRows共享。 辛巴提供了因果一致性在sRow for上使用全或无原子性的语义本地和同步操作;这是一个更强有力的保证比现有的同步服务提供。一个应用程序当然可以有一个只有表格或只有对象的模式，
Simba琐碎的支持。由于sRow代表一个更高级的，语义上有意义的应用程序数据单元，确保在所有情况下的一致性是非常有价值的给开发者，让她从复杂的写作中解放出来事务管理和恢复代码。数字1显示了Simba的数据模型。Simba目前不提供原子同步sRows或sTables。虽然有些应用程序可能会受益原子多行同步，我们最初的经验已经表明对于整个表同步的ACID语义会
不必要的复杂Simba设计，导致更高的性能开销，并为大多数应用程序的矫枉过正。API：sClient的API，如表2所示，类似于流行的CRUD界面，但有四个附加功能：1）表格和对象的CRUD操作2）操作注册表进行同步3）上传新数据和冲突4）内置冲突检测和对解决方案的支持。对象使用流写入或读取允许Simba支持大型对象的抽象;它也使本地阅读或写作只是一个大的一部分对象 - BLOB（二进制）不可用的属性大的对象）在关系数据库[38]。由于不同的应用可以有不同的同步需求，Simba支持按表同步策略进行控制由应用程序开发人员使用同步方法（registerWriteSync等等）。每个sTable可以指定一个非零的周期这决定了变更收集的频率进行同步。延迟容限（DT）值可以是特定的，这为数据提供了额外的机会在通过网络发送之前跨应用程序合并;对于延迟敏感的数据，DT可以设置为零。甚至当应用程序有不一致的时期，DT启用crossapp为了更好地利用蜂窝而对准交通无线电。如果应用程序需要按需同步数据，可以使用writeSyncNow（）和readSyncNow（）方法。Simba的延迟容忍传输机制直接受益，适合于以前的工作[22，49]。由于同步发生在背景，新数据何时可用或发生冲突由于同步，使用upcalls通知应用程序。应用程序可以开始和结束一个冲突解决的交易在意志和迭代冲突的行来解决与本地复制，服务器副本或全新的选择。



